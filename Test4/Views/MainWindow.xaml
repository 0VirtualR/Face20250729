<Window x:Class="Test4.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:prism="http://prismlibrary.com/"
        prism:ViewModelLocator.AutoWireViewModel="True"
         Title="高清摄像头应用" 
        Height="700" 
        Width="900"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <Style TargetType="Button">
            <Setter Property="Margin" Value="5" />
            <Setter Property="Padding" Value="10,5" />
            <Setter Property="MinWidth" Value="80" />
        </Style>

        <Style TargetType="ComboBox">
            <Setter Property="Margin" Value="5" />
            <Setter Property="MinWidth" Value="100" />
        </Style>

        <Style TargetType="TextBlock">
            <Setter Property="Margin" Value="5" />
            <Setter Property="VerticalAlignment" Value="Center" />
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <!-- 标题 -->
        <TextBlock Grid.Row="0" Text="高清摄像头应用" 
                   FontSize="16" FontWeight="Bold" 
                   HorizontalAlignment="Center" Margin="10"
                   Foreground="SteelBlue"/>

        <!-- 控制面板 -->
        <Border Grid.Row="1" Background="#F0F0F0" Padding="10">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <!-- 摄像头选择 -->
                <StackPanel Orientation="Horizontal" Margin="0,0,20,0">
                    <TextBlock Text="摄像头:" />
                    <ComboBox ItemsSource="{Binding AvailableCameras}" 
                             SelectedItem="{Binding SelectedCameraIndex}"
                             Width="80"/>
                </StackPanel>

                <!-- 帧率选择 -->
                <StackPanel Orientation="Horizontal" Margin="0,0,20,0">
                    <TextBlock Text="帧率:" />
                    <ComboBox ItemsSource="{Binding AvailableFrameRates}" 
                             SelectedItem="{Binding FrameRate}"
                             Width="60"/>
                </StackPanel>

                <!-- 控制按钮 -->
                <Button Content="刷新设备" Command="{Binding RefreshCamerasCommand}" 
                       ToolTip="重新扫描可用摄像头"/>
                <Button Content="启动摄像头" Command="{Binding StartCameraCommand}" 
                       Background="#4CAF50" Foreground="White"/>
                <Button Content="停止摄像头" Command="{Binding StopCameraCommand}" 
                       Background="#F44336" Foreground="White"/>
                <Button Content="拍照" Command="{Binding CaptureCommand}" 
                       Background="#2196F3" Foreground="White"/>
            </StackPanel>
        </Border>

        <!-- 视频显示区域 -->
        <Border Grid.Row="2" Margin="10" Background="Black" 
                CornerRadius="5" BorderThickness="1" BorderBrush="#CCCCCC">
            <Image Source="{Binding CameraImage}" 
                   Stretch="Uniform"
                   HorizontalAlignment="Center"
                   VerticalAlignment="Center"/>
        </Border>

        <!-- 状态栏 -->
        <StatusBar Grid.Row="3" Background="#EEEEEE">
            <StatusBarItem>
                <TextBlock Text="{Binding StatusMessage}" FontWeight="Bold"/>
            </StatusBarItem>
            <Separator />
            <StatusBarItem>
                <TextBlock Text="{Binding FrameRate, StringFormat='{}帧率: {0}FPS'}"/>
            </StatusBarItem>
        </StatusBar>
    </Grid>
</Window>
